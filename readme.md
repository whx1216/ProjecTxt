# ProjecTxt（项目文本化）

## 简介

ProjecTxt是一款桌面应用程序，一个用于生成文件夹结构和显示文件内容的工具。可以将整个项目转换为单一文本，便于向AI或人类提供代码。旨在帮助用户快速生成、浏览和管理项目的文件/文件夹结构。并附带文件内容。它的核心功能包括可视化文件树展示、文件内容预览（支持代码高亮）、文件信息统计（大小、行数、字符数）等。

本工具特别适用于以下场景：
*   向大型语言模型（如AI编程助手）提供清晰、完整的代码项目上下文。
*   项目归档和文档编写，快速生成结构概览。
*   从特定格式的文本描述中恢复或重建项目目录结构和文件。

##### 	操作流程示例：

​	打开你的项目文件，全选，关闭你不需要发送的文件（例如需要引用的库，隐私数据或大体积的	数据库文件（这些会占用大量的字符）），点击“复制结构和文件内容”发送给其他人或AI用于debug	或优化。



## 截图

![](screenshot\screenshot.png)



## 使用说明

### 1. 分析文件夹

*   A. 在应用顶部的输入框中直接粘贴文件夹的完整路径。点击 "刷新" 按钮 (或在输入框中按 `Enter` 键)。
*   B. 点击输入框右侧的 "浏览" 按钮，通过系统对话框选择文件夹。
*   C. 工具栏中点击历史，选择已经分析过的项目。
*   D.主界面的文件夹路径输入框也集成了 `<datalist>`，输入时会提示历史路径。点击 "刷新" 按钮 (或在输入框中按 `Enter` 键)。

### 2. 文件树操作

* **选择文件/文件夹**:

	* **文件**: 点击文件名（非图标部分）即可选中或取消选中该文件。选中的文件会高亮，并在文件名前显示 "✓" 标记。

		只有显示 "✓" 标记的文件在复制结构和文件内容会出现。

	*   **批量选择**:
	    
	    *   使用控制面板的 "全选"、"取消全选"、"反选" 按钮。
	    *   使用 "选择文件类型..." 下拉框，可以按指定类型（如 `.py` 文件、CDN 文件、压缩文件、大文件等）批量选中文件。勾选 "取消选择模式" 则变为取消选择指定类型的文件。

* **右键上下文菜单**:
	* 在文件树中的任意文件或文件夹上右键点击，会弹出上下文菜单。

		可以选择整个文件夹

### 3. 文件预览

*   在文件树中单击任一文件名，右侧的 "文件内容预览"区域会显示该文件的内容。
*   **预览信息**: 预览区顶部会显示文件的相对路径、行数、字符数以及特殊标签（如 `CDN`, `压缩`, `数据库`）。
*   **代码高亮**: 如果是已识别的文本代码文件，内容会进行语法高亮。
*   **非文本文件**: 会提示文件不是文本文件或无法显示内容。
*   **复制内容**: 点击预览区右上角的 "复制" 小按钮，可以将当前预览的文件的 *完整内容* 复制到剪贴板。

### 4. 复制功能 (到剪贴板)

*   **复制结构和文件内容** (顶部工具栏):
    
    *   此功能会将当前文件树中所有 *被选中* 的文件的结构和完整内容，按照特定格式复制到剪贴板。
    *   格式示例:
      ```text
      文件结构:
      
      my_project/
      ├── src/
      │   └── main.py (150行)
      └── docs/
          └── readme.md (30行)
      
      文件内容:
      
      --- src/main.py (150行) ---
      # Python code here...
      print("Hello World")
      
      --- docs/readme.md (30行) ---
      # Project Title
      Description...
      ```
    
* **复制结构** (顶部工具栏):

	*   仅复制项目的整体结构（包含所有可见的文件夹、文件名以及文本文件的行数统计），不包含任何文件的实际内容。

	*   格式示例:
	  ```text
	  my_project/
	  ├── src/
	  │   └── main.py (150行)
	  └── docs/
	      └── readme.md (30行)
	  ```


### 5. 还原项目

##### 用于将程序复制出的文本程序转化为项目

1.  点击顶部工具栏的 "还原项目" 按钮，打开“还原项目”对话框。
2.  将之前通过本工具 "复制结构和文件内容" 功能导出的文本（或符合同样格式的文本）粘贴到大的文本输入区域。也可以使用 "从剪贴板粘贴" 按钮。
3.  点击 "选择目标文件夹" 按钮，选择一个本地的空文件夹或已有文件夹作为还原项目的根目录。
4.  点击对话框右下角的 "还原项目" 按钮。
5.  应用会开始在指定的目标文件夹下创建描述中的目录结构和文件。
	*   如果文件内容在描述中存在，则会写入文件。
	*   如果文件内容缺失，会创建空文件。
	*   如果目标位置已存在同名文件，默认会跳过该文件的创建。
6.  完成后会提示结果，包括处理的文件数和可能缺少内容的文件列表。



## 安装与运行

1. **环境要求**:

	*   Python 3.x (建议 3.8 或更高版本)
	*   操作系统：Windows, macOS, Linux (pywebview支持的平台)

2. **克隆仓库** (如果您从git获取):

	```bash
	git clone <repository-url>
	cd web
	```

	或者直接下载解压项目文件到本地，并进入 `web` 目录。

3. **安装依赖**:
	在 `web` 目录下打开终端或命令行，运行：

	```bash
	pip install -r requirements.txt
	```

4. **运行程序**:
	确保当前路径在 `web` 目录下，然后运行：

	```bash
	python main.py
	```

	应用窗口将会启动。
